:root {
  /* Typography */
  font-family: 'Source Sans 3', system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  /* Visual Spec Design Tokens */
  --color-bg: #0c0f12; /* obsidian base */
  --color-void-teal: #06545e; /* void teal */
  --color-ember-magenta: #d94b8a; /* ember magenta */
  --color-spectral-cyan: #6ff4ff; /* spectral cyan */
  --color-gold: #f2c572; /* pearlescent gold */
  --gradient-ember-to-cyan: linear-gradient(90deg, #d94b8a, #6ff4ff);

  --radii-pedestal: 50%; /* Circular pedestals */
  --radii-panel: 16px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 40px;

  --shadow-altar: 0 20px 60px rgba(6,84,94,0.35);
  --focus-ring-cyan: 0 0 0 2px var(--color-spectral-cyan), 0 0 0 4px #0c0f12;

  --duration-quick: 150ms;
  --duration-summon: 600ms;
  --easing-summon: cubic-bezier(.23,1,.32,1);

  color-scheme: dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: var(--color-bg);

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: #9aa3b2; text-decoration: none; }
a:hover { color: #c5cedd; }

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
  overflow-x: hidden; /* Prevent horizontal scroll from fixed elements */
}

h1, h2, h3 {
  font-family: 'Orbitron', 'Source Sans 3', sans-serif;
  font-weight: 600;
}

button {
  border-radius: 56px; /* primary pill */
  border: 1px solid rgba(217,75,138,0.6);
  padding: 10px 16px;
  background: #202431;
  color: #e5e9f0;
  box-shadow: inset 0 0 12px rgba(111,244,255,0.15);
  transition: box-shadow var(--duration-quick), border-color var(--duration-quick);
}
button:hover { border-color: var(--color-spectral-cyan); box-shadow: inset 0 0 16px rgba(111,244,255,0.28); }
button:focus, button:focus-visible { outline: none; box-shadow: var(--focus-ring-cyan); }

/* Utility */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }
}

/* ============================================
   Memphis Design Theme
   ============================================ */
.memphis-design {
  /* Memphis Color Palette: Bright, bold primaries */
  --color-bg: #ffffff;
  --color-void-teal: #00d4ff; /* electric blue */
  --color-ember-magenta: #ff006e; /* hot pink */
  --color-spectral-cyan: #ffbe0b; /* bright yellow */
  --color-gold: #fb5607; /* orange */
  --color-memphis-green: #8ac926; /* lime green */
  --color-memphis-purple: #7209b7; /* vibrant purple */
  --gradient-ember-to-cyan: linear-gradient(135deg, #ff006e, #00d4ff, #ffbe0b);

  /* Memphis Typography: Bold and geometric */
  font-weight: 600;

  /* Memphis Shapes: Circular pedestals, sharp panels */
  --radii-pedestal: 50%;
  --radii-panel: 4px;

  /* Memphis Spacing: More compact, energetic */
  --space-1: 6px;
  --space-2: 12px;
  --space-3: 18px;
  --space-4: 30px;
  --space-5: 48px;

  /* Memphis Shadows: Bold, colorful, offset */
  --shadow-altar: 8px 8px 0 rgba(255, 0, 110, 0.3), 16px 16px 0 rgba(0, 212, 255, 0.2);
  --focus-ring-cyan: 0 0 0 3px var(--color-spectral-cyan), 0 0 0 6px #000;

  /* Memphis Transitions: Snappier, more energetic */
  --duration-quick: 100ms;
  --duration-summon: 400ms;
  --easing-summon: cubic-bezier(.68,-0.55,.265,1.55); /* bounce */

  /* Color scheme and text */
  color-scheme: light;
  color: #000000;
  background-color: var(--color-bg);

  /* Add Memphis geometric pattern to background */
  background-image:
    /* Dots pattern */
    radial-gradient(circle at 20% 30%, #ff006e 2px, transparent 2px),
    radial-gradient(circle at 80% 70%, #00d4ff 2px, transparent 2px),
    radial-gradient(circle at 50% 90%, #ffbe0b 2px, transparent 2px),
    radial-gradient(circle at 10% 80%, #8ac926 2px, transparent 2px),
    /* Squiggly lines using repeating gradients */
    repeating-linear-gradient(45deg, transparent, transparent 100px, rgba(255,0,110,0.1) 100px, rgba(255,0,110,0.1) 102px);
  background-size: 200px 200px, 150px 150px, 180px 180px, 220px 220px, 100% 100%;
  background-position: 0 0, 50px 50px, 100px 0, 0 100px, 0 0;
}

.memphis-design a {
  color: var(--color-ember-magenta);
  font-weight: 700;
  text-decoration: underline;
  text-decoration-thickness: 2px;
  text-decoration-color: var(--color-spectral-cyan);
}

.memphis-design a:hover {
  color: var(--color-memphis-purple);
  text-decoration-color: var(--color-ember-magenta);
}

.memphis-design body {
  background: transparent;
}

.memphis-design h1,
.memphis-design h2,
.memphis-design h3 {
  font-family: 'Orbitron', 'Impact', 'Arial Black', sans-serif;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  /* Memphis asymmetry: slight rotation */
  transform: rotate(-1deg);
  text-shadow: 3px 3px 0 var(--color-spectral-cyan),
               6px 6px 0 var(--color-ember-magenta);
}

.memphis-design button {
  border-radius: 0; /* Sharp corners */
  border: 4px solid #000000;
  padding: 12px 24px;
  background: var(--color-spectral-cyan);
  color: #000000;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 1);
  transition: transform var(--duration-quick), box-shadow var(--duration-quick);
  position: relative;
}

.memphis-design button:hover {
  background: var(--color-ember-magenta);
  transform: translate(-2px, -2px);
  box-shadow: 8px 8px 0 rgba(0, 0, 0, 1);
}

.memphis-design button:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 1);
}

.memphis-design button:focus,
.memphis-design button:focus-visible {
  outline: 4px dashed var(--color-memphis-purple);
  outline-offset: 4px;
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 1);
}

/* Memphis geometric decorations on panels and cards */
.memphis-design .drop-zone,
.memphis-design .trait-panel,
.memphis-design .feed-card {
  border: 4px solid #000000;
  border-radius: 0;
  box-shadow: 8px 8px 0 rgba(255, 0, 110, 0.5);
  background: #ffffff;
  position: relative;
  /* Slight asymmetric rotation */
  transform: rotate(0.5deg);
}

/* Pedestals styling without transform (to preserve positioning transforms) */
.memphis-design .pedestal {
  border: 4px solid #000000;
  border-radius: 50%; /* Circular eggs */
  box-shadow: 8px 8px 0 rgba(255, 0, 110, 0.5);
  background: #ffffff;
  /* position: absolute is inherited from App.css - don't override it */
}

.memphis-design .drop-zone:hover,
.memphis-design .feed-card:hover {
  transform: rotate(-0.5deg) scale(1.02);
  box-shadow: 12px 12px 0 rgba(0, 212, 255, 0.5);
}

/* Add geometric shapes as pseudo-elements */
.memphis-design .drop-zone::before,
.memphis-design .trait-panel::before {
  content: '';
  position: absolute;
  width: 40px;
  height: 40px;
  background: var(--color-spectral-cyan);
  border: 3px solid #000000;
  top: -15px;
  right: -15px;
  transform: rotate(45deg);
  z-index: 1;
}

/* Memphis squiggly lines */
.memphis-design .app-header::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 0;
  right: 0;
  height: 6px;
  background:
    repeating-linear-gradient(90deg,
      var(--color-ember-magenta) 0px,
      var(--color-ember-magenta) 20px,
      var(--color-spectral-cyan) 20px,
      var(--color-spectral-cyan) 40px,
      var(--color-memphis-green) 40px,
      var(--color-memphis-green) 60px,
      var(--color-memphis-purple) 60px,
      var(--color-memphis-purple) 80px
    );
}

/* Memphis treatment for PixiJS stage */
.memphis-design .pixi-stage {
  border: 6px solid #000000;
  border-radius: 0;
  box-shadow: 12px 12px 0 rgba(255, 190, 11, 0.5);
  background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
}

/* Memphis inbox glyphs and badges */
.memphis-design .inbox-glyph {
  filter: drop-shadow(4px 4px 0 rgba(0, 0, 0, 0.8));
}

.memphis-design .feed-badge {
  border: 3px solid #000000;
  border-radius: 0;
  font-weight: 900;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 1);
}

/* Memphis pedestal positioning (preserves original transforms + adds rotation) */
.memphis-design .pedestal.pos-a.inactive {
  transform: scale(1) rotate(0.5deg);
}

.memphis-design .pedestal.pos-a.active {
  transform: scale(1) rotate(-0.5deg);
}

.memphis-design .pedestal.pos-b.inactive {
  transform: translateX(-50%) scale(1) rotate(1deg);
}

.memphis-design .pedestal.pos-b.active {
  transform: translateX(-50%) scale(1) rotate(-1deg);
}

.memphis-design .pedestal.pos-c.inactive {
  transform: scale(1) rotate(-0.5deg);
}

.memphis-design .pedestal.pos-c.active {
  transform: scale(1) rotate(0.5deg);
}

/* Memphis roast bubble overrides for light theme legibility */
.memphis-design .roast-display {
  background: var(--color-spectral-cyan);
  backdrop-filter: none;
  border: 4px solid #000000;
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 1);
  border-radius: 12px;
}

.memphis-design .roast-text {
  color: #000000;
  text-shadow: none;
  font-weight: 700;
}

.memphis-design .cursor {
  color: #000000;
}

.memphis-design .roast-bubble-arrow {
  border-top-color: var(--color-spectral-cyan);
  border-width: 14px 14px 0;
  filter: drop-shadow(3px 3px 0 rgba(0, 0, 0, 1));
}

/* Memphis magic indicators */
.memphis-design .magic-indicator {
  border: 3px solid #000000;
  border-radius: 8px;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.8);
}

.memphis-design .magic-indicator.active {
  background: var(--color-spectral-cyan);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 1);
}

.memphis-design .magic-indicator.inactive {
  background: #ffffff;
  opacity: 1;
}

.memphis-design .indicator-label,
.memphis-design .indicator-value {
  color: #000000;
  text-shadow: none;
}

/* Memphis recalled memory state */
.memphis-design .magic-indicator.recalled {
  background: #90EE90;
  border: 3px solid #000000;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 1);
}

.memphis-design .magic-indicator.recalled .indicator-label,
.memphis-design .magic-indicator.recalled .indicator-value {
  color: #000000;
}

/* Memphis spell buttons */
.memphis-design .spell-btn.purple {
  border: 3px solid #000000;
  background: linear-gradient(135deg, #724bd9, #d94b8a);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 1);
  border-radius: 12px;
  font-weight: 900;
}

.memphis-design .spell-btn.purple:hover {
  background: linear-gradient(135deg, #8a5fe9, #e95ba0);
  box-shadow: 5px 5px 0 rgba(0, 0, 0, 1);
}

/* Memphis agentify bubbles */
.memphis-design .agentify-bubble-content {
  border: 4px solid #000000;
  border-radius: 12px;
  font-weight: 700;
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 1);
}

.memphis-design .agentify-bubble.daemon-nova .agentify-bubble-content {
  background: #ff006e;
  color: #ffffff;
}

.memphis-design .agentify-bubble.daemon-pixel .agentify-bubble-content {
  background: #7209b7;
  color: #ffffff;
}

.memphis-design .agentify-bubble.daemon-echo .agentify-bubble-content {
  background: #00d4ff;
  color: #000000;
}

.memphis-design .agentify-bubble-arrow {
  filter: drop-shadow(3px 3px 0 rgba(0, 0, 0, 1));
}

.memphis-design .agentify-bubble.daemon-nova .agentify-bubble-arrow {
  border-top-color: #ff006e;
}

.memphis-design .agentify-bubble.daemon-pixel .agentify-bubble-arrow {
  border-top-color: #7209b7;
}

.memphis-design .agentify-bubble.daemon-echo .agentify-bubble-arrow {
  border-top-color: #00d4ff;
}

/* Memphis summoner bubble */
.memphis-design .summoner-bubble-content {
  background: #ffbe0b;
  color: #000000;
  border: 4px solid #000000;
  border-radius: 12px;
  box-shadow: 8px 8px 0 rgba(0, 0, 0, 1);
  font-weight: 700;
}

.memphis-design .summon-btn {
  background: var(--color-ember-magenta);
  color: #ffffff;
  border: 3px solid #000000;
  border-radius: 8px;
  font-weight: 900;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 1);
}

.memphis-design .summon-btn:hover {
  background: var(--color-memphis-purple);
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 1);
}

.memphis-design .summon-btn:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 1);
}

.memphis-design .summoner-bubble-arrow-left {
  border-right-color: #ffbe0b;
  filter: drop-shadow(-3px 0 0 rgba(0, 0, 0, 1));
}
